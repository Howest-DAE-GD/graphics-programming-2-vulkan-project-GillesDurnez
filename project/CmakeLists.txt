set(TARGET_NAME "GP2-Durnez-Gilles")

include(FetchContent)

FetchContent_Declare(
   GLFW
   GIT_REPOSITORY https://github.com/glfw/glfw.git
   GIT_TAG 3.4
   GIT_SHALLOW TRUE
   GIT_PROGRESS TRUE
)
FetchContent_MakeAvailable(GLFW)

FetchContent_Declare(
    GLM
    GIT_REPOSITORY https://github.com/g-truc/glm.git
    GIT_TAG 1.0.1
    GIT_SHALLOW TRUE
    GIT_PROGRESS TRUE)
FetchContent_MakeAvailable(GLM)

# NOTE: You need the have the vulkan sdk installed yourself to be able to find this package this way.
find_package(Vulkan REQUIRED)

set( SRC_FILES
     "src/main.cpp")

add_executable(${TARGET_NAME} ${SRC_FILES})
target_link_libraries(${TARGET_NAME} PRIVATE Vulkan::Vulkan glfw glm::glm)

# Copying over the assets
add_custom_command(TARGET ${TARGET_NAME} POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy_directory_if_different
            ${CMAKE_CURRENT_SOURCE_DIR}/shaders/
            $<TARGET_FILE_DIR:${TARGET_NAME}>/shaders)
